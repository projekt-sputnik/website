---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";

interface GeoData {
    state: string;
    value: number;
}

interface IcsMap {
    state: string;
    value: number;
}

interface Ports {
    port: string;
    value: number;
}

interface SmbAuthentication {
    status: string;
    value: number;
    color: string;
}

interface Data {
    geoData: GeoData[];
    geoRegion: string;
    icsMap: IcsMap[];
    numCompromisedDB: number;
    numIcs: number;
    numPorts: number;
    numOpenWebcams: number;
    numSsl2: number;
    numSsl3: number;
    numTls1: number;
    numTls11: number;
    numTls12: number;
    ports: Ports[];
    smbAuthentication: SmbAuthentication[];
    numCiscoIosXe: number;
    numBluekeep: number;
    numEternalblue: number;
    numPulseSecure: number;
    vuln: string;
}

export async function getData({ paginate }) {
    const response = await fetch('https://shodan.nyc3.digitaloceanspaces.com/exposure-data/US.json');
    const data = await response.json();
        try {
            let parsedData: Data = JSON.parse(jsonString);
            console.log("Response: ", parsedData);

        } catch (error) {
            console.error("Error parsing JSON: ", error);
            return null;
        }
}

---


<BaseLayout title="Projects" sideBarActiveItemID="services">
  <div>
    <div class="text-3xl w-full font-bold mb-5">Services Header</div>   
  </div>
</BaseLayout>
